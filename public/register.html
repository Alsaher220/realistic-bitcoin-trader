<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Register - BTC Trader</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<div class="logo">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
    <circle cx="256" cy="256" r="256" fill="#f7931a"/>
    <path fill="#fff" d="M300 203c9-61-79-69-92-8l-26 107 53 13 5-21c12 3 58 14 66-24 9-42-50-49-50-49zM243 166c5-21 32-15 28 5-5 21-32 15-28-5zM236 242l-5 21-53-13 26-107c13-61 101-53 92 8-8 44-66 27-66 27z"/>
  </svg>
  BTC Trader
</div>
<h1>Create Account</h1>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button id="registerBtn">Register</button>
<p id="message"></p>
<p>Already have an account? <a href="index.html">Login here</a></p>
</div>

<script>
document.getElementById('registerBtn').addEventListener('click', async ()=>{
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    if(!username || !password){ 
        document.getElementById('message').textContent='Enter username & password'; 
        return; 
    }

    const res = await fetch('/register', { 
        method:'POST', 
        headers:{'Content-Type':'application/json'}, 
        body:JSON.stringify({username,password}) 
    });
    const data = await res.json();
    document.getElementById('message').textContent = data.message || (data.success ? 'Account created! You can now log in.' : 'Error');

    // Automatically reload admin dashboard after registration (if needed)
});
</script>
</body>
</html>
